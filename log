{"name":"RollingUpdate","minReadySeconds":"180","progressDeadlineSeconds":"300","maxUnavailable":"1","maxSurge":"1"}
response: {"id":208453,"type":"helm","cluster_context_id":10642,"description":"Upgrade complete","name":"dart","namespace":"fks-ct-dart-pubsub-preprod","revision":3,"pipeline_id":34062,"pipeline_run_id":6901557,"pipeline_name":"dart-ct-gcp-preprod","project_name":"FDP-INGESTION","env_id":35,"env_name":"Fk-Preprod","status":"deployed","ocd_resources":null,"k8_resources":null,"helm_resources":{"repo_name":"","chart_name":"dart","chart_version":"dart-1.0.6901488","app_version":"{{ .Values.image.application.tag }}","values_file":"","arguments":null,"harbor_context_id":0,"values_file_path":[{"file_path":"values-base.yaml","source":"chartPush"},{"file_path":"values-gcp-preprod.yaml","source":"deploy"}],"values_files":null,"value_params":{"flow.environment":"Fk-Preprod","image.tag":"2.1.76","metadata.name":"dart"}},"meta":{"dc_release_notes":[{"deployment_candidate_id":2594855,"deploy_candidate_name":"dart","deploy_candidate_artifact_type":"chart","release_note_id":0,"release_note_name":"","release_note_dc_attribute":{"license_details":{"total_count":0,"breach_list":null,"license_report":""},"security_details":{"total_count":0,"breach_count":0,"max_security_score":0,"security_report":""},"violation_details":{"count":0,"max_violation_score":"","violation_report":""},"policy_applied":"","vulnerability_status":"","unit_test_details":{"sonar_onboarded":true,"sonar_status":"SUCCEEDED","metric_attributes":"[{\"metric\":\"new_bugs\",\"periods\":[{\"index\":1,\"value\":\"0\",\"bestValue\":true}]},{\"metric\":\"new_coverage\",\"periods\":[{\"index\":1,\"value\":\"100.0\",\"bestValue\":true}]},{\"metric\":\"new_maintainability_rating\",\"periods\":[{\"index\":1,\"value\":\"1.0\",\"bestValue\":true}]},{\"metric\":\"new_lines\",\"periods\":[{\"index\":1,\"value\":\"156\"}]},{\"metric\":\"new_reliability_rating\",\"periods\":[{\"index\":1,\"value\":\"1.0\",\"bestValue\":true}]},{\"metric\":\"new_vulnerabilities\",\"periods\":[{\"index\":1,\"value\":\"0\",\"bestValue\":true}]},{\"metric\":\"new_duplicated_lines_density\",\"periods\":[{\"index\":1,\"value\":\"0.0\",\"bestValue\":true}]},{\"metric\":\"new_security_hotspots\",\"periods\":[{\"index\":1,\"value\":\"0\",\"bestValue\":true}]},{\"metric\":\"duplicated_lines_density\",\"value\":\"3.5\",\"bestValue\":false},{\"metric\":\"new_code_smells\",\"periods\":[{\"index\":1,\"value\":\"2\",\"bestValue\":false}]},{\"metric\":\"coverage\",\"value\":\"39.3\",\"bestValue\":false},{\"metric\":\"new_lines_to_cover\",\"periods\":[{\"index\":1,\"value\":\"9\"}]},{\"metric\":\"new_security_rating\",\"periods\":[{\"index\":1,\"value\":\"1.0\",\"bestValue\":true}]}]","sonar_key":"com.flipkart.bigfoot:dart","sonar_analysis_link":"https://service.sonar-prod.fkcloud.in/dashboard?id=com.flipkart.bigfoot:dart\u0026pullRequest=690","new_coverage":100,"sonar_quality":true,"qg_bypassed":false},"source_details":{"dc_created_by_pr":true,"pr_id":690,"branch_name":"master","pr_merged":false,"branch_protected":true,"qg_integration":true,"repo_name":"fdp-dart","exclude_sonar_qg":false}}}]},"created_at":"2025-10-24T12:39:11.839969+05:30","updated_at":"2025-10-27T17:59:08.401783+05:30","created_by":"mohit.m8","updated_by":"","is_favorite":false,"manifest":"apiVersion: v1\nkind: Secret\nmetadata:\n name: dart-svc-secret\n labels:\n flow/release: dart\n flow/env-name: Fk-Preprod\ntype: Opaque\ndata:\n authn_client_id: eyJkYXRhIjoidmF1bHQ6djE6UWxVanJjNmRvbGVITWRtZkY3cUZpMitiaEVPRFpLZTVqWi9zTGI5T0YxMCtGL3pzcXZ3T2MraThsMTB5cUxOaW1hYz0iLCJrZXlJZCI6ImFwcGlkOnN0YWdlLWZkcGluZ2VzdGlvbjo6d2lmX2djcF9wcmVwcm9kIn0=\n authn_client_secret: eyJkYXRhIjoidmF1bHQ6djE6RDZXNzlqemVDaUZ2QkVPWEpvOVJzWS8vWkpTd1ExUVZFOTZ6SXBVZ1VjTm92cHE4OHV2QlRFVitKemVoVTF4NnRtTUhTdEVFdFhhekJPM1JiVTdKVEs4YTBpdnAzS0JvekM3MkFRPT0iLCJrZXlJZCI6ImFwcGlkOnN0YWdlLWZkcGluZ2VzdGlvbjo6d2lmX2djcF9wcmVwcm9kIn0=\n---\napiVersion: v1\nkind: Secret\nmetadata:\n name: cryptex\n labels:\n flow/release: dart\n flow/env-name: Fk-Preprod\ntype: Opaque\ndata:\n client_id: eyJkYXRhIjoidmF1bHQ6djE6eThhaFZZdloxd0tNVGZyckQ1d2FjN1h2Q3lvZE9jVENxUEdOSm1tRVdMSGpPaVBFeVdFam9SQ01NZkU4c0FhUSIsImtleUlkIjoiYXBwaWQ6c3RhZ2UtZmRwaW5nZXN0aW9uOjp3aWZfZ2NwX3ByZXByb2QifQ==\n client_secret: eyJkYXRhIjoidmF1bHQ6djE6VzZ0dkV6RE44c3A0aHYrQjl6SUtZWG5ySmVqM0pyMFBOYk4xMzFTRTJvV0JTWXRVOHMrdm1FbEdMdFRvMWl2VVJGS3BIRG9tYTU4eGtPYVpDRkF6c0dta2M1Y1h4Ynd6RGhPb01BPT0iLCJrZXlJZCI6ImFwcGlkOnN0YWdlLWZkcGluZ2VzdGlvbjo6d2lmX2djcF9wcmVwcm9kIn0=\n---\napiVersion: v1\nkind: Secret\nmetadata:\n name: wif-json-content\n labels:\n flow/release: dart\n flow/env-name: Fk-Preprod\ntype: Opaque\ndata:\n wif-secret.json: eyJkYXRhIjoidmF1bHQ6djE6RDh5ZG9sZ0JUeGoyRm9QS05ROFBiMzdoalFmTTZNYjdOUExzQXhaRng1bDk5VVVLd1NFVlFnRTIyVHp2YWZOclhra3ZkLzNGYUl2cFduRXB4d1NScEdJWkNCdDl5K296SG5JYXlid280K0dQMEZFV0JadU1ySG5rMEFxRmM0bGtDcFRZYnozWHRzN2t4V2dxTXAySVhZS3QzRFVUU1BxWTlKYUxrelhidDFZaWRnaU9xT1dZTERkdHE2eU5jQ1ZDbVlhQ0lRU1ROazlkcWRBbGFQbGxLemxqcU1PYXd0cmlUOUhiajhmM2pCV0EzSVM2K3ZQSEg3QVVkc1ZFMDloZ1JUMWd5K3B1UVNXcmdyMjFpd2VFWE1JUHljWkFudi9XWkNSd3pHUjV1S1dkYjJGRXlENEFPWXhUSzlZZ1pXV3VEUnNtZkZtNlk1ZEhKTVdNRnVOQWovSm85K2dLSXF0aFhiWld3M2dnSnpyRXYxeldWVFRjc28wNmh3MUdFVGxVMWhrbzE1cTAzUDcwaXUzZHdDNkx2bFdaZG5ETlIxSUhja05pWTVZYjRzOWFLMUIxTEUxanE4b0xVTHI1YWVPV2NqR2FqRTd5OHM0dlVZdkUzTkdsOVBOSVp5VHlZMWk5Rm81WFlOWFcydEVDUUpLbUlUdVFxYjZ5STVaVzFDQVhqYWFWNXhzV1VxRmd6NkVJT2JiNDVRQ2RmV3g2UU50Nm04c3cwb05Vd0t4M1U4RFN4alJybXNlM2ZBL25TUFJEbVBKSTNYOG80OEdFbjJJMVUwSDVnSDczamJaUnNxS1NrZW4rWEtrWWZ1UkZpZW5ySFRabmVES2pOVVFDRDhQb0FibXhJWXlGZWs1K1BZcnBVUElNdGVmVndGWmthcE90TjFqRlJXdkRYOUdQekdZZjNKcGVQdnVSOFFFZjNSY3NTNnMzOWxjOW5MRUxzb05hZ3psNFV2YUd5SzdjMXMwcVVJdlVRM25wbVhiMjNmUEovYktyWEpLM1pYcDN2aC9HUEkzcXBKc0ZnV2QyQzdybDh0KzAwR0pneTRZNXY4ZjlENHZZc2V6eWI4QTh2Ly9Obm5idnFKcGpCU2crUEl6d0dZd2YwNTFzeG13MHliVWx4MXlsYkRJQmhHMXdzV3pMay9TT2t0UWkzMlVhTDZ1NjVQNHp3MHhsbWFJTElwTm5aUmJwTDJ2ZkNHNE9DYU9zS2krSDJEMTdJTjVRQlBjd2hXTTRIK01tZC8vdlQvT3hQaWJwSEFsZUZuTEZwYWhzMXZnbmhadEc5S0ZaRWRiSXJrMU9LaGxJYTFRNlFmL056eXczRUY4UWwrRmV0Z21uNVZaeEh5TE96Ukt0NkRjTGE0dk9ySStKMEt1cjdjNDk0bU4xY3VQRi9iMm1XVm55VUpBRnZQdEVrakNBQXBLVzFBM1FsaVNvdnVGTmlaVXpGek9sWVE1UUphYUhKclorbU9Tb0JQVkVGVTBDODRSV0M0VlZ5RGs1bjBQSnVaVlN2OGtQbTZvL2pxYXArYU9xL3NyT0U5UlFFcU53OHJqSzc5S3Q3T1NmUVdURU1EZCtER1B5M2o3K3JNc0lmV1Q3ZEJSNFU5ZHJ4YXp6dW8rYnR6Yy9jMHAzSDhjd1Bwa1JwSmFlVnFMdEhONUI0cU5QZCs0MlBRNWI0aXAyMGZGRXlMbjdxcTRVa1JsWDhpUlMrd3J6WVFnVEl3YU9WSHVnbGROU0x4UWRRanJOU1NZUXIwczFKeFNrMi9Cb200Uk9GRXFJcTA2VTNoRm9xWkx6dHRaUDRXdThEcjAyZ1o1ZHVvUlEzUEFFQXc2ZWhyT3g3NHlPOGc9PSIsImtleUlkIjoiYXBwaWQ6c3RhZ2UtZmRwaW5nZXN0aW9uOjp3aWZfZ2NwX3ByZXByb2QifQ==\n---\napiVersion: v1\nkind: ConfigMap\nmetadata:\n name: dart-cfg-api-map\n labels:\n flow/release: dart\n flow/env-name: Fk-Preprod\ndata:\n cfg-api: host=10.24.2.28\n---\napiVersion: v1\nkind: ConfigMap\nmetadata:\n name: dart-app-mtl-config\n labels:\n flow/release: dart\n flow/env-name: Fk-Preprod\ndata:\n cosmos-jmx.conf: |\n #!/bin/bash\n\n JSON_DIR=/etc/cosmos-jmx/\n LOG_LEVEL=${LOG_LEVEL:-info}\n SECONDS_BETWEEN_RUNS=120\n cosmos-jmx.json: |\n {\n \"servers\": [\n {\n \"port\": \"28225\",\n \"host\": \"localhost\",\n \"process\": \"gcp-dart-k8s\",\n \"queries\": [\n {\n \"obj\": \"java.lang:type=Memory\",\n \"attr\": [\"HeapMemoryUsage\", \"NonHeapMemoryUsage\"]\n },\n {\n \"obj\": \"java.lang:type=MemoryPool,name=*\",\n \"attr\": [\"Usage\"]\n },\n {\n \"obj\": \"java.lang:type=GarbageCollector,name=*\",\n \"attr\": [\"CollectionCount\", \"CollectionTime\"]\n },\n {\n \"obj\": \"java.lang:type=Threading\",\n \"attr\": [\"ThreadCount\", \"DaemonThreadCount\", \"TotalStartedThreadCount\", \"PeakThreadCount\"]\n },\n {\n \"obj\": \"java.lang:type=Runtime\",\n \"attr\": [\"Uptime\"]\n },\n {\n \"obj\": \"metrics:name=jvm.memory.pools.CMS-Old-Gen.usage\",\n \"saperator\": \".\"\n },\n {\n \"obj\": \"metrics:name=jvm.*\",\n \"saperator\": \".\"\n },\n {\n \"obj\": \"metrics:name=com.flipkart.dart.Ingestor.current.version\",\n \"saperator\": \".\"\n },\n {\n \"obj\": \"metrics:name=org.eclipse.jetty.util.thread.QueuedThreadPool.dw.utilization\",\n \"saperator\": \".\"\n },\n {\n \"obj\": \"metrics:name=io.dropwizard.jetty.MutableServletContextHandler.active-dispatches\",\n \"saperator\": \".\"\n },\n {\n \"obj\": \"metrics:name=io.dropwizard.jetty.MutableServletContextHandler.5xx-responses\",\n \"saperator\": \".\"\n },\n {\n \"obj\": \"metrics:name=io.dropwizard.jetty.MutableServletContextHandler.4xx-responses\",\n \"saperator\": \".\"\n },\n {\n \"obj\": \"metrics:name=io.dropwizard.jetty.MutableServletContextHandler.dispatches\",\n \"saperator\": \".\"\n },\n {\n \"obj\": \"metrics:name=org.eclipse.jetty.util.thread.QueuedThreadPool.dw.utilization\",\n \"saperator\": \".\"\n },\n {\n \"obj\": \"metrics:name=org.eclipse.jetty.server.HttpConnectionFactory.28223.connections\",\n \"saperator\": \".\"\n },\n {\n \"obj\": \"metrics:name=ingestion.kafka.partitioner.selection.time\",\n \"saperator\": \".\"\n },\n {\n \"obj\":\"metrics:name=ingestion.*\",\n \"saperator\":\".\",\n \"attr\" : [\"OneMinuteRate\",\"50thPercentile\",\"95thPercentile\",\"99thPercentile\"],\n \"typeNameModifiers\": [\n {\n \"typeNameMatcher\": \"ingestion.topic.([0-9A-Z,a-z_]+).version.([0-9_]+).validation.([A-Z,a-z_]+).relay.([A-Z,a-z_]+)\",\n \"typeNameGenerator\": \"com.fdp.post.ingestion\",\n \"tags\": [\n {\n \"name\": \"topic\",\n \"valueGenerator\": \"${1}\"\n },\n {\n \"name\": \"version\",\n \"valueGenerator\": \"${2}\"\n },\n {\n \"name\": \"validation\",\n \"valueGenerator\": \"${3}\"\n },\n {\n \"name\": \"relay\",\n \"valueGenerator\": \"${4}\"\n }\n ]\n },\n {\n \"typeNameMatcher\": \"ingestion.topic.([0-9A-Z,a-z_]+).totaltime\",\n \"typeNameGenerator\": \"com.fdp.post.ingestion.latency\",\n \"tags\": [\n {\n \"name\": \"topic\",\n \"valueGenerator\": \"${1}\"\n }\n ]\n },\n {\n \"typeNameMatcher\": \"ingestion.kafka.partitioner.partition.latent.([A-Z,a-z_]+)\",\n \"typeNameGenerator\": \"ingestion.kafka.partition.batch.change.isItLatent\",\n \"tags\": [\n {\n \"name\": \"islatent\",\n \"valueGenerator\": \"${1}\"\n }\n ]\n },\n {\n \"typeNameMatcher\": \"ingestion.topic.([0-9A-Z,a-z_]+).version.([0-9_]+).ingestion\",\n \"typeNameGenerator\": \"com.fdp.pre.ingestion\",\n \"tags\": [\n {\n \"name\": \"topic\",\n \"valueGenerator\": \"${1}\"\n },\n {\n \"name\": \"version\",\n \"valueGenerator\": \"${2}\"\n }\n ]\n },\n {\n \"typeNameMatcher\": \"ingestion.topic.([0-9A-Z,a-z_]+).version.([0-9_]+).lag\",\n \"typeNameGenerator\": \"com.fdp.pre.ingestion.lag\",\n \"tags\": [\n {\n \"name\": \"topic\",\n \"valueGenerator\": \"${1}\"\n },\n {\n \"name\": \"version\",\n \"valueGenerator\": \"${2}\"\n }\n ]\n },\n {\n \"typeNameMatcher\": \"ingestion.topic.([0-9A-Z,a-z_]+).appRetry_([0-9_]+)\",\n \"typeNameGenerator\": \"com.fdp.ingestion.app_level.retry\",\n \"tags\": [\n {\n \"name\": \"topic\",\n \"valueGenerator\": \"${1}\"\n }\n ]\n }\n ]\n },\n {\n \"saperator\": \".\",\n \"obj\": \"kafka.producer:*\",\n \"tagKeys\": [\"client-id\",\"clientId\", \"brokerHost\", \"producer\", \"node-id\"],\n \"ignoredKeys\":[\"brokerPort\"]\n }\n ],\n \"numQueryThreads\": 2\n }\n ]\n }\n---\napiVersion: v1\nkind: Service\nmetadata:\n name: dart-service\n annotations:\n fcp/app-id: stage-fdpingestion\n elb.fcp/name: preprod-dart-gcp-vip\n elb.fcp/backend-service: preprod-dart-gcp-http-bs\n elb.fcp/frontend-port: \"80\"\n elb.fcp/backend-port: \"28223\"\n elb.fcp/health-check-port: \"28224\"\n elb.fcp/health-check-path: /healthcheck\n elb.fcp/health-check-timeout: 1s\n elb.fcp/health-check-interval: 5s\n elb.fcp/load-balancing-algorithm: leastconn\n elb.fcp/capacity-scalar: \"1\"\n elb.fcp/do-not-delete-vip: \"true\"\n flow/release-created-at: \"2025-10-27T17:58:57+05:30\"\n labels:\n flow/release: dart\n flow/env-name: Fk-Preprod\nspec:\n ports:\n - name: http\n port: 28226\n protocol: TCP\n targetPort: 28223\n selector:\n name: dart\n type: LoadBalancer\n---\napiVersion: argoproj.io/v1alpha1\nkind: Rollout\nmetadata:\n name: dart-deployment\n labels:\n flow/release: dart\n flow/env-name: Fk-Preprod\nspec:\n replicas: 3\n selector:\n matchLabels:\n name: dart\n template:\n metadata:\n labels:\n name: dart\n flow/release: dart\n flow/env-name: Fk-Preprod\n flow/app-id: fks-ct-dart-pubsub\n annotations:\n fcp.k8s.mtl/mtl-config-map: dart-app-mtl-config\n fcp.k8s.mtl/cosmos-jmx: enabled\n fcp.tp/networkGroup: dart-service-ng\n spec:\n volumes:\n - name: logs-dir\n emptyDir:\n sizeLimit: 3Gi\n - name: wif-json\n secret:\n secretName: wif-json-content\n - name: cfg-api\n configMap:\n name: dart-cfg-api-map\n - name: mtl-config\n configMap:\n name: dart-app-mtl-config\n - name: cosmos-tail-access-logs\n emptyDir: {}\n containers:\n - image: 'container-registry.alm.fkcloud.in/fdp-ingestion/fdp-dart:'\n imagePullPolicy: IfNotPresent\n name: dart-container\n env:\n - name: TZ\n value: Asia/Kolkata\n - name: DART_CONFIG_SVC_BUCKETS\n value: gcp-dart-preprod\n - name: SVC_NAME\n value: dart\n - name: GOOGLE_APPLICATION_CREDENTIALS\n value: /etc/wif/wif-secret.json\n - name: AUTHENTICATION_ENABLED\n value: \"false\"\n - name: AUTH_CONFIG_CLIENT_ID\n valueFrom:\n secretKeyRef:\n key: authn_client_id\n name: dart-svc-secret\n - name: AUTH_CONFIG_CLIENT_SECRET\n valueFrom:\n secretKeyRef:\n key: authn_client_secret\n name: dart-svc-secret\n - name: AUTHN_CLIENT_URL_FDP_INGESTION\n value: https://service.authn-prod.fkcloud.in/\n - name: AUTHN_CLIENT_ID_FDP_INGESTION\n valueFrom:\n secretKeyRef:\n key: client_id\n name: cryptex\n - name: AUTHN_CLIENT_SECRET_FDP_INGESTION\n valueFrom:\n secretKeyRef:\n key: client_secret\n name: cryptex\n securityContext:\n capabilities:\n add:\n - NET_ADMIN\n - SYS_PTRACE\n runAsNonRoot: true\n runAsUser: 1\n resources:\n limits:\n cpu: 2\n memory: 4G\n requests:\n cpu: 2\n memory: 4G\n livenessProbe:\n tcpSocket:\n port: admin-port\n initialDelaySeconds: 60\n periodSeconds: 5\n timeoutSeconds: 5\n failureThreshold: 5\n readinessProbe:\n httpGet:\n path: /elb-healthcheck\n port: service-port\n initialDelaySeconds: 60\n periodSeconds: 5\n failureThreshold: 3\n startupProbe:\n httpGet:\n path: /bootstrap-check\n port: service-port\n failureThreshold: 10\n periodSeconds: 60\n timeoutSeconds: 30\n lifecycle:\n preStop:\n exec:\n command:\n - sh\n - -c\n - 'sleep 10 '\n ports:\n - containerPort: 28224\n name: admin-port\n protocol: TCP\n - containerPort: 28223\n name: service-port\n volumeMounts:\n - mountPath: /var/log/flipkart/fk-bigfoot-dart\n name: logs-dir\n - name: wif-json\n readOnly: true\n mountPath: /etc/wif\n - mountPath: /etc/default\n name: cfg-api\n - name: mtl-sidecar\n image: edge.fkinternal.com/mtl/mtl-agent:0.4.11\n volumeMounts:\n - name: mtl-config\n mountPath: /etc/default/mtl-config/mtl-config-map\n - name: cosmos-tail-access-logs\n mountPath: /var/log/access-logs\n resources:\n limits:\n cpu: 200m\n memory: 512Mi\n requests:\n cpu: 200m\n memory: 512Mi\n env:\n - name: COSMOS_TAIL_ENABLED\n value: \"true\"\n - name: COSMOS_STATSD_ENABLED\n value: \"true\"\n - name: COSMOS_JMX_ENABLED\n value: \"true\"\n minReadySeconds: 180\n progressDeadlineSeconds: 31536000\n revisionHistoryLimit: 10\n strategy:\n canary:\n canaryMetadata:\n labels:\n role: canary\n maxSurge: 1\n maxUnavailable: 1\n stableMetadata:\n labels:\n role: stable\n steps: []\n","config":{"authn_config":{"client_id":"eyJkYXRhIjoidmF1bHQ6djE6UWxVanJjNmRvbGVITWRtZkY3cUZpMitiaEVPRFpLZTVqWi9zTGI5T0YxMCtGL3pzcXZ3T2MraThsMTB5cUxOaW1hYz0iLCJrZXlJZCI6ImFwcGlkOnN0YWdlLWZkcGluZ2VzdGlvbjo6d2lmX2djcF9wcmVwcm9kIn0=","client_secret":"eyJkYXRhIjoidmF1bHQ6djE6RDZXNzlqemVDaUZ2QkVPWEpvOVJzWS8vWkpTd1ExUVZFOTZ6SXBVZ1VjTm92cHE4OHV2QlRFVitKemVoVTF4NnRtTUhTdEVFdFhhekJPM1JiVTdKVEs4YTBpdnAzS0JvekM3MkFRPT0iLCJrZXlJZCI6ImFwcGlkOnN0YWdlLWZkcGluZ2VzdGlvbjo6d2lmX2djcF9wcmVwcm9kIn0="},"autoscaling":{"enabled":false,"maxReplicas":8,"minReplicas":2,"targetCPUUtilizationPercentage":65},"cfg_api":{"name":"dart-cfg-api-map","value":"host=10.24.2.28"},"containerConfig":{"healthcheckpath":"/elb-healthcheck","ports":[{"containerPort":28224,"name":"admin-port","protocol":"TCP"},{"containerPort":28223,"name":"service-port"}]},"elbConfig":{"dart":{"appid":"stage-fdpingestion","backendPort":28223,"backendService":"preprod-dart-gcp-http-bs","capacityScalar":1,"frontendPort":80,"healthCheckInterval":"5s","healthCheckPath":"/healthcheck","healthCheckPort":28224,"healthCheckTimeout":"1s","name":"preprod-dart-gcp-vip"},"metadata":{"name":"dart-service"}},"env":[{"name":"TZ","value":"Asia/Kolkata"},{"name":"DART_CONFIG_SVC_BUCKETS","value":"gcp-dart-preprod"},{"name":"SVC_NAME","value":"dart"},{"name":"GOOGLE_APPLICATION_CREDENTIALS","value":"/etc/wif/wif-secret.json"},{"name":"AUTHENTICATION_ENABLED","value":"false"},{"name":"AUTH_CONFIG_CLIENT_ID","valueFrom":{"secretKeyRef":{"key":"authn_client_id","name":"dart-svc-secret"}}},{"name":"AUTH_CONFIG_CLIENT_SECRET","valueFrom":{"secretKeyRef":{"key":"authn_client_secret","name":"dart-svc-secret"}}},{"name":"AUTHN_CLIENT_URL_FDP_INGESTION","value":"https://service.authn-prod.fkcloud.in/"},{"name":"AUTHN_CLIENT_ID_FDP_INGESTION","valueFrom":{"secretKeyRef":{"key":"client_id","name":"cryptex"}}},{"name":"AUTHN_CLIENT_SECRET_FDP_INGESTION","valueFrom":{"secretKeyRef":{"key":"client_secret","name":"cryptex"}}}],"flow":{"environment":"Fk-Preprod"},"fullnameOverride":"dart-deployment","image":{"application":{"pullPolicy":"IfNotPresent","registry":"container-registry.alm.fkcloud.in","repository":"fdp-ingestion/fdp-dart"},"tag":"2.1.76"},"is_gcp_enabled":true,"log":{"logdir":"/var/log/flipkart/fk-bigfoot-dart","sizeLimit":"3Gi"},"metadata":{"name":"dart"},"mtlConfig":{"cosmosJmx":"enabled","cosmosJmxJson":"{\n \"servers\": [\n {\n \"port\": \"28225\",\n \"host\": \"localhost\",\n \"process\": \"gcp-dart-k8s\",\n \"queries\": [\n {\n \"obj\": \"java.lang:type=Memory\",\n \"attr\": [\"HeapMemoryUsage\", \"NonHeapMemoryUsage\"]\n },\n {\n \"obj\": \"java.lang:type=MemoryPool,name=*\",\n \"attr\": [\"Usage\"]\n },\n {\n \"obj\": \"java.lang:type=GarbageCollector,name=*\",\n \"attr\": [\"CollectionCount\", \"CollectionTime\"]\n },\n {\n \"obj\": \"java.lang:type=Threading\",\n \"attr\": [\"ThreadCount\", \"DaemonThreadCount\", \"TotalStartedThreadCount\", \"PeakThreadCount\"]\n },\n {\n \"obj\": \"java.lang:type=Runtime\",\n \"attr\": [\"Uptime\"]\n },\n {\n \"obj\": \"metrics:name=jvm.memory.pools.CMS-Old-Gen.usage\",\n \"saperator\": \".\"\n },\n {\n \"obj\": \"metrics:name=jvm.*\",\n \"saperator\": \".\"\n },\n {\n \"obj\": \"metrics:name=com.flipkart.dart.Ingestor.current.version\",\n \"saperator\": \".\"\n },\n {\n \"obj\": \"metrics:name=org.eclipse.jetty.util.thread.QueuedThreadPool.dw.utilization\",\n \"saperator\": \".\"\n },\n {\n \"obj\": \"metrics:name=io.dropwizard.jetty.MutableServletContextHandler.active-dispatches\",\n \"saperator\": \".\"\n },\n {\n \"obj\": \"metrics:name=io.dropwizard.jetty.MutableServletContextHandler.5xx-responses\",\n \"saperator\": \".\"\n },\n {\n \"obj\": \"metrics:name=io.dropwizard.jetty.MutableServletContextHandler.4xx-responses\",\n \"saperator\": \".\"\n },\n {\n \"obj\": \"metrics:name=io.dropwizard.jetty.MutableServletContextHandler.dispatches\",\n \"saperator\": \".\"\n },\n {\n \"obj\": \"metrics:name=org.eclipse.jetty.util.thread.QueuedThreadPool.dw.utilization\",\n \"saperator\": \".\"\n },\n {\n \"obj\": \"metrics:name=org.eclipse.jetty.server.HttpConnectionFactory.28223.connections\",\n \"saperator\": \".\"\n },\n {\n \"obj\": \"metrics:name=ingestion.kafka.partitioner.selection.time\",\n \"saperator\": \".\"\n },\n {\n \"obj\":\"metrics:name=ingestion.*\",\n \"saperator\":\".\",\n \"attr\" : [\"OneMinuteRate\",\"50thPercentile\",\"95thPercentile\",\"99thPercentile\"],\n \"typeNameModifiers\": [\n {\n \"typeNameMatcher\": \"ingestion.topic.([0-9A-Z,a-z_]+).version.([0-9_]+).validation.([A-Z,a-z_]+).relay.([A-Z,a-z_]+)\",\n \"typeNameGenerator\": \"com.fdp.post.ingestion\",\n \"tags\": [\n {\n \"name\": \"topic\",\n \"valueGenerator\": \"${1}\"\n },\n {\n \"name\": \"version\",\n \"valueGenerator\": \"${2}\"\n },\n {\n \"name\": \"validation\",\n \"valueGenerator\": \"${3}\"\n },\n {\n \"name\": \"relay\",\n \"valueGenerator\": \"${4}\"\n }\n ]\n },\n {\n \"typeNameMatcher\": \"ingestion.topic.([0-9A-Z,a-z_]+).totaltime\",\n \"typeNameGenerator\": \"com.fdp.post.ingestion.latency\",\n \"tags\": [\n {\n \"name\": \"topic\",\n \"valueGenerator\": \"${1}\"\n }\n ]\n },\n {\n \"typeNameMatcher\": \"ingestion.kafka.partitioner.partition.latent.([A-Z,a-z_]+)\",\n \"typeNameGenerator\": \"ingestion.kafka.partition.batch.change.isItLatent\",\n \"tags\": [\n {\n \"name\": \"islatent\",\n \"valueGenerator\": \"${1}\"\n }\n ]\n },\n {\n \"typeNameMatcher\": \"ingestion.topic.([0-9A-Z,a-z_]+).version.([0-9_]+).ingestion\",\n \"typeNameGenerator\": \"com.fdp.pre.ingestion\",\n \"tags\": [\n {\n \"name\": \"topic\",\n \"valueGenerator\": \"${1}\"\n },\n {\n \"name\": \"version\",\n \"valueGenerator\": \"${2}\"\n }\n ]\n },\n {\n \"typeNameMatcher\": \"ingestion.topic.([0-9A-Z,a-z_]+).version.([0-9_]+).lag\",\n \"typeNameGenerator\": \"com.fdp.pre.ingestion.lag\",\n \"tags\": [\n {\n \"name\": \"topic\",\n \"valueGenerator\": \"${1}\"\n },\n {\n \"name\": \"version\",\n \"valueGenerator\": \"${2}\"\n }\n ]\n },\n {\n \"typeNameMatcher\": \"ingestion.topic.([0-9A-Z,a-z_]+).appRetry_([0-9_]+)\",\n \"typeNameGenerator\": \"com.fdp.ingestion.app_level.retry\",\n \"tags\": [\n {\n \"name\": \"topic\",\n \"valueGenerator\": \"${1}\"\n }\n ]\n }\n ]\n },\n {\n \"saperator\": \".\",\n \"obj\": \"kafka.producer:*\",\n \"tagKeys\": [\"client-id\",\"clientId\", \"brokerHost\", \"producer\", \"node-id\"],\n \"ignoredKeys\":[\"brokerPort\"]\n }\n ],\n \"numQueryThreads\": 2\n }\n ]\n}\n","map":"dart-app-mtl-config"},"nameOverride":"dart","replicaCount":3,"resources":{"application":{"limits":{"cpu":2,"memory":"4G"},"requests":{"cpu":2,"memory":"4G"}}},"secret":{"cryptex":[{"name":"client_id","value":"eyJkYXRhIjoidmF1bHQ6djE6eThhaFZZdloxd0tNVGZyckQ1d2FjN1h2Q3lvZE9jVENxUEdOSm1tRVdMSGpPaVBFeVdFam9SQ01NZkU4c0FhUSIsImtleUlkIjoiYXBwaWQ6c3RhZ2UtZmRwaW5nZXN0aW9uOjp3aWZfZ2NwX3ByZXByb2QifQ=="},{"name":"client_secret","value":"eyJkYXRhIjoidmF1bHQ6djE6VzZ0dkV6RE44c3A0aHYrQjl6SUtZWG5ySmVqM0pyMFBOYk4xMzFTRTJvV0JTWXRVOHMrdm1FbEdMdFRvMWl2VVJGS3BIRG9tYTU4eGtPYVpDRkF6c0dta2M1Y1h4Ynd6RGhPb01BPT0iLCJrZXlJZCI6ImFwcGlkOnN0YWdlLWZkcGluZ2VzdGlvbjo6d2lmX2djcF9wcmVwcm9kIn0="}]},"securityContext":{"capabilities":{"add":["NET_ADMIN","SYS_PTRACE"]},"runAsNonRoot":true,"runAsUser":1},"service":{"port":28226,"targetport":28223},"startupProbe":{"path":"/bootstrap-check"},"tp":{"networkGroup":"dart-service-ng"},"wif_encrypted":{"name":"wif-json-content","value":"eyJkYXRhIjoidmF1bHQ6djE6RDh5ZG9sZ0JUeGoyRm9QS05ROFBiMzdoalFmTTZNYjdOUExzQXhaRng1bDk5VVVLd1NFVlFnRTIyVHp2YWZOclhra3ZkLzNGYUl2cFduRXB4d1NScEdJWkNCdDl5K296SG5JYXlid280K0dQMEZFV0JadU1ySG5rMEFxRmM0bGtDcFRZYnozWHRzN2t4V2dxTXAySVhZS3QzRFVUU1BxWTlKYUxrelhidDFZaWRnaU9xT1dZTERkdHE2eU5jQ1ZDbVlhQ0lRU1ROazlkcWRBbGFQbGxLemxqcU1PYXd0cmlUOUhiajhmM2pCV0EzSVM2K3ZQSEg3QVVkc1ZFMDloZ1JUMWd5K3B1UVNXcmdyMjFpd2VFWE1JUHljWkFudi9XWkNSd3pHUjV1S1dkYjJGRXlENEFPWXhUSzlZZ1pXV3VEUnNtZkZtNlk1ZEhKTVdNRnVOQWovSm85K2dLSXF0aFhiWld3M2dnSnpyRXYxeldWVFRjc28wNmh3MUdFVGxVMWhrbzE1cTAzUDcwaXUzZHdDNkx2bFdaZG5ETlIxSUhja05pWTVZYjRzOWFLMUIxTEUxanE4b0xVTHI1YWVPV2NqR2FqRTd5OHM0dlVZdkUzTkdsOVBOSVp5VHlZMWk5Rm81WFlOWFcydEVDUUpLbUlUdVFxYjZ5STVaVzFDQVhqYWFWNXhzV1VxRmd6NkVJT2JiNDVRQ2RmV3g2UU50Nm04c3cwb05Vd0t4M1U4RFN4alJybXNlM2ZBL25TUFJEbVBKSTNYOG80OEdFbjJJMVUwSDVnSDczamJaUnNxS1NrZW4rWEtrWWZ1UkZpZW5ySFRabmVES2pOVVFDRDhQb0FibXhJWXlGZWs1K1BZcnBVUElNdGVmVndGWmthcE90TjFqRlJXdkRYOUdQekdZZjNKcGVQdnVSOFFFZjNSY3NTNnMzOWxjOW5MRUxzb05hZ3psNFV2YUd5SzdjMXMwcVVJdlVRM25wbVhiMjNmUEovYktyWEpLM1pYcDN2aC9HUEkzcXBKc0ZnV2QyQzdybDh0KzAwR0pneTRZNXY4ZjlENHZZc2V6eWI4QTh2Ly9Obm5idnFKcGpCU2crUEl6d0dZd2YwNTFzeG13MHliVWx4MXlsYkRJQmhHMXdzV3pMay9TT2t0UWkzMlVhTDZ1NjVQNHp3MHhsbWFJTElwTm5aUmJwTDJ2ZkNHNE9DYU9zS2krSDJEMTdJTjVRQlBjd2hXTTRIK01tZC8vdlQvT3hQaWJwSEFsZUZuTEZwYWhzMXZnbmhadEc5S0ZaRWRiSXJrMU9LaGxJYTFRNlFmL056eXczRUY4UWwrRmV0Z21uNVZaeEh5TE96Ukt0NkRjTGE0dk9ySStKMEt1cjdjNDk0bU4xY3VQRi9iMm1XVm55VUpBRnZQdEVrakNBQXBLVzFBM1FsaVNvdnVGTmlaVXpGek9sWVE1UUphYUhKclorbU9Tb0JQVkVGVTBDODRSV0M0VlZ5RGs1bjBQSnVaVlN2OGtQbTZvL2pxYXArYU9xL3NyT0U5UlFFcU53OHJqSzc5S3Q3T1NmUVdURU1EZCtER1B5M2o3K3JNc0lmV1Q3ZEJSNFU5ZHJ4YXp6dW8rYnR6Yy9jMHAzSDhjd1Bwa1JwSmFlVnFMdEhONUI0cU5QZCs0MlBRNWI0aXAyMGZGRXlMbjdxcTRVa1JsWDhpUlMrd3J6WVFnVEl3YU9WSHVnbGROU0x4UWRRanJOU1NZUXIwczFKeFNrMi9Cb200Uk9GRXFJcTA2VTNoRm9xWkx6dHRaUDRXdThEcjAyZ1o1ZHVvUlEzUEFFQXc2ZWhyT3g3NHlPOGc9PSIsImtleUlkIjoiYXBwaWQ6c3RhZ2UtZmRwaW5nZXN0aW9uOjp3aWZfZ2NwX3ByZXByb2QifQ=="}},"enable_release_validations":1}
status: 200
